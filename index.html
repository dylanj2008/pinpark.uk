<!-- index.html (updated with sidebar Login / Sign up) -->
<!DOCTYPE HTML>
<!--
	Prologue by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>PinPark</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />

		<!-- ‚úÖ Make the hero (top/intro cover) 100px shorter -->
		<style>
			#home.cover {
				height: calc(100vh - 275px) !important;
				min-height: calc(100vh - 275px) !important;
			}

			/* ‚úÖ PinPark hero tint (replace pink/blue/grey with PinPark palette) */
			#home.cover:before,
			#home:before {
				background: linear-gradient(
					135deg,
					rgba(0, 173, 238, 0.78) 0%,
					rgba(255, 255, 255, 0.35) 50%,
					rgba(0, 138, 205, 0.78) 100%
				) !important;
			}

			/* ‚úÖ PinPark hero tint overlay (forces #00ADEE + circular highlights) */
			#home.cover {
				position: relative;
				overflow: hidden;
			}

			#home.cover::after {
				content: "";
				position: absolute;
				inset: 0;
				pointer-events: none;
				z-index: 0;

				background:
					radial-gradient(circle at 0% 100%,
						rgba(0, 173, 238, 0.8) 0%,
						rgba(0, 173, 238, 0.8) 22%,
						rgba(0, 173, 238, 0.6) 30%,
						rgba(0, 173, 238, 0.3) 38%,
						rgba(0, 173, 238, 0) 46.2%
					),
					radial-gradient(circle at 100% 0%,
						rgba(255, 255, 255, 0.10) 0%,
						rgba(255, 255, 255, 0.10) 16%,
						rgba(255, 255, 255, 0.07) 23%,
						rgba(255, 255, 255, 0.04) 30%,
						rgba(255, 255, 255, 0.02) 36%,
						rgba(255, 255, 255, 0) 41.8%
					),
					linear-gradient(
						135deg,
						rgba(0, 138, 205, 0.75) 0%,
						rgba(0, 138, 205, 0.75) 100%
					);
			}

			/* ‚úÖ keep your hero content above the tint */
			#home.cover > .container {
				position: relative;
				z-index: 1;
			}

			/* ‚úÖ Replace "Read more" button with link-style text (underline on hover) */
			#home .button.scrolly {
				background: transparent !important;
				border: 0 !important;
				box-shadow: none !important;
				padding: 0 !important;
				margin: 0 !important;
				color: inherit !important;
				position: relative;
				top: -5px;
				font-size: 90% !important;
			}
			#home .button.scrolly:hover {
				background: transparent !important;
				border: 0 !important;
				box-shadow: none !important;
				text-decoration: underline;
				text-decoration-color: currentColor;
				text-underline-offset: 4px;
			}

			/* ‚úÖ Make PinPark logo 25% smaller total (was 15%, now 10% smaller again) */
			#logo .image img {
				width: 75%;
				height: auto;
				transform: translateY(-10px);
			}

			/* ‚úÖ Center the PinPark logo horizontally in the sidebar column */
			#logo {
				text-align: center;
			}
			#logo .image {
				display: inline-block;
			}
			#logo .image img {
				display: block;
				margin: 0 auto;
			}

			/* ‚úÖ Ensure left nav icons visibly highlight when active */
			#nav ul li a.active span.icon:before,
			#nav ul li a.active-locked span.icon:before {
				color: #fff !important;
			}
			#nav ul li a.active,
			#nav ul li a.active-locked {
				color: #fff !important;
			}

			/* ‚úÖ Smooth fade for active tab highlight (0.1s in/out, no flash) */
			#nav ul li a,
			#nav ul li a:before,
			#nav ul li a:after,
			#nav ul li a span.icon:before {
				transition:
					background-color 0.1s ease,
					color 0.1s ease,
					opacity 0.1s ease,
					border-color 0.1s ease;
			}

			/* ‚úÖ Revert footer bar styling back to default (non-blue, black text) */
			#footer,
			#footer::after {
				background: none !important;
				content: none !important;
			}
			#footer {
				position: static !important;
				overflow: visible !important;
				height: 70px;
				padding: 0 !important;
				display: flex;
				align-items: center;
				justify-content: center;
			}
			#footer .copyright {
				margin: 0 !important;
				position: relative;
				width: 100%;
				display: flex;
				align-items: center;
				justify-content: center;
			}
			#footer .copyright li:first-child {
				position: absolute;
				left: 50%;
				transform: translateX(-50%);
				margin: 0 !important;
			}
			#footer .copyright li:nth-child(2) {
				margin-left: auto;
				padding-left: 0 !important;
				border-left: 0 !important;
			}
			#footer .copyright li:nth-child(3) {
				margin-left: 12px;
			}
			#footer .copyright li:nth-child(2) a,
			#footer .copyright li:nth-child(3) a {
				font-size: 12px !important;
			}
			#footer .copyright li:nth-child(2),
			#footer .copyright li:nth-child(3) {
				position: relative;
				left: -7px;
			}

			#footer,
			#footer * {
				color: #000 !important;
			}
			#footer a {
				color: #000 !important;
				border-bottom-color: rgba(0, 0, 0, 0.35) !important;
			}
			#footer a:hover {
				border-bottom-color: rgba(0, 0, 0, 0.7) !important;
			}

			/* ‚úÖ Remove bullet point next to Support PinPark */
			#donations .actions {
				margin-left: 0 !important;
				padding-left: 0 !important;
				text-align: center !important;
				list-style: none !important;
			}
			#donations .actions li {
				list-style: none !important;
				padding-left: 0 !important;
				margin-left: 0 !important;
			}

			/* ‚úÖ Make the donations button PinPark-style (Update Note vibe) */
			#donations .actions .button {
				background: linear-gradient(135deg, #00ADEE 0%, #008ACD 100%) !important;
				border: 1px solid rgba(255, 255, 255, 0.0) !important;
				color: #fff !important;
				box-shadow: 0 5px 11px rgba(0, 0, 0, 0.07) !important;
				border-radius: 14px !important;
				text-transform: none !important;
				letter-spacing: inherit !important;
				transform: scale(1);
				transition: transform 100ms ease;
				display: inline-block;
			}
			#donations .actions .button:hover {
				background: linear-gradient(135deg, #008ACD 0%, #00ADEE 100%) !important;
				box-shadow: 0 6px 13px rgba(0, 0, 0, 0.09) !important;
				transform: scale(1.025);
			}
			#donations .actions .button:active {
				transform: scale(1.025) translateY(1px);
			}

			/* ‚úÖ Apply the same PinPark button styling to "Send Message" */
			#contact form input[type="submit"] {
				background: linear-gradient(135deg, #00ADEE 0%, #008ACD 100%) !important;
				border: 1px solid rgba(255, 255, 255, 0.0) !important;
				color: #fff !important;
				box-shadow: 0 5px 11px rgba(0, 0, 0, 0.07) !important;
				border-radius: 14px !important;
				text-transform: none !important;
				letter-spacing: inherit !important;
				transform: scale(1);
				transition: transform 100ms ease;
			}
			#contact form input[type="submit"]:hover {
				background: linear-gradient(135deg, #008ACD 0%, #00ADEE 100%) !important;
				box-shadow: 0 6px 13px rgba(0, 0, 0, 0.09) !important;
				transform: scale(1.025);
			}
			#contact form input[type="submit"]:active {
				transform: scale(1.025) translateY(1px);
			}

			/* üîê Simple auth modal */
			#auth-modal-backdrop {
				position: fixed;
				inset: 0;
				background: rgba(0, 0, 0, 0.5);
				display: none;
				align-items: center;
				justify-content: center;
				z-index: 10000;
			}
			#auth-modal {
				background: #fff;
				border-radius: 12px;
				padding: 20px 22px;
				max-width: 360px;
				width: 90%;
				box-shadow: 0 8px 22px rgba(0, 0, 0, 0.18);
				text-align: left;
				font-size: 0.95em;
			}
			#auth-modal h3 {
				margin-top: 0;
				margin-bottom: 10px;
			}
			#auth-modal label {
				display: block;
				font-size: 0.85em;
				margin-bottom: 4px;
			}
			#auth-modal input[type="email"],
			#auth-modal input[type="password"] {
				width: 100%;
				margin-bottom: 10px;
				padding: 6px 8px;
				border-radius: 6px;
				border: 1px solid #ddd;
				box-sizing: border-box;
			}
			#auth-modal .auth-actions {
				display: flex;
				gap: 8px;
				margin-top: 6px;
				margin-bottom: 8px;
			}
			#auth-modal .auth-actions button {
				flex: 1;
				border-radius: 10px;
				border: none;
				padding: 7px 0;
				cursor: pointer;
			}
			#auth-btn-login {
				background: #f1f1f1;
			}
			#auth-btn-signup {
				background: linear-gradient(135deg, #00ADEE 0%, #008ACD 100%);
				color: #fff;
			}
			#auth-modal .auth-footer {
				display: flex;
				justify-content: space-between;
				align-items: center;
				font-size: 0.8em;
			}
			#auth-modal-close {
				background: none;
				border: none;
				font-size: 0.9em;
				cursor: pointer;
				color: #555;
			}
			#auth-status {
				font-size: 0.8em;
				min-height: 1.2em;
			}
		</style>
	</head>
	<body class="is-preload">
		<!-- Header -->
			<div id="header">
				<div class="top">
					<div id="logo">
						<span class="image"><img src="pinparklogo.png" alt="PinPark" /></span>
					</div>

					<nav id="nav">
						<ul>
							<li><a href="?section=home" id="top-link"><span class="icon solid fa-home">Home</span></a></li>
							<li><a href="?section=about" id="portfolio-link"><span class="icon solid fa-info-circle">About</span></a></li>
							<li><a href="?section=features" id="about-link"><span class="icon solid fa-star">Features</span></a></li>
							<li><a href="?section=contact" id="contact-link"><span class="icon solid fa-envelope">Contact</span></a></li>
							<li><a href="?section=donations" id="donations-link"><span class="icon solid fa-money-bill">Donations</span></a></li>
						</ul>
					</nav>
				</div>

				<!-- üîê Sidebar bottom: Login / Sign up / Admin -->
				<div class="bottom">
					<nav id="nav-auth">
						<ul>
							<li><a href="#" id="link-login"><span class="icon solid fa-sign-in-alt">Login</span></a></li>
							<li><a href="#" id="link-signup"><span class="icon solid fa-user-plus">Sign up</span></a></li>
							<li id="nav-admin-item" style="display:none;">
								<a href="articles.html" id="link-admin"><span class="icon solid fa-user-cog">Admin</span></a>
							</li>
						</ul>
					</nav>
				</div>
			</div>

		<!-- Main -->
			<div id="main">
				<section id="home" class="one dark cover">
					<div class="container">
						<header>
							<h2 class="alt">V1.0.0 In Development</h2>
							<p></p>
						</header>
						<footer>
							<a href="articles.html" class="button scrolly">Read more</a>
						</footer>
					</div>
				</section>

				<section id="about" class="two">
					<div class="container">
						<header>
							<h2>What we're about</h2>
						</header>

						<p>PinPark is independently designed with a focus on reliability, transparency, and long 
							term support in mind. We have carefully designed our interface to ensure a fast, effortless 
							parking experience, and make travelling less stressful and more enjoyable.
						</p>

						<div class="row">
							<div class="col-4 col-12-mobile">
								<article class="item">
									<a href="#" class="image fit"><img src="images/pic02.jpg" alt="" /></a>
									<header>
										<h3>Ipsum Feugiat</h3>
									</header>
								</article>
								<article class="item">
									<a href="#" class="image fit"><img src="images/pic03.jpg" alt="" /></a>
									<header>
										<h3>Rhoncus Semper</h3>
									</header>
								</article>
							</div>
							<div class="col-4 col-12-mobile">
								<article class="item">
									<a href="#" class="image fit"><img src="images/pic04.jpg" alt="" /></a>
									<header>
										<h3>Magna Nullam</h3>
									</header>
								</article>
								<article class="item">
									<a href="#" class="image fit"><img src="images/pic05.jpg" alt="" /></a>
									<header>
										<h3>Natoque Vitae</h3>
									</header>
								</article>
							</div>
							<div class="col-4 col-12-mobile">
								<article class="item">
									<a href="#" class="image fit"><img src="images/pic06.jpg" alt="" /></a>
									<header>
										<h3>Dolor Penatibus</h3>
									</header>
								</article>
								<article class="item">
									<a href="#" class="image fit"><img src="images/pic07.jpg" alt="" /></a>
									<header>
										<h3>Orci Convallis</h3>
									</header>
								</article>
							</div>
						</div>
					</div>
				</section>

				<section id="features" class="three">
					<div class="container">
						<header>
							<h2>Features</h2>
						</header>

						<a href="#" class="image featured"><img src="images/pic08.jpg" alt="" /></a>

						<p>Tincidunt eu elit diam magnis pretium accumsan etiam id urna. Ridiculus
						ultricies curae quis et rhoncus velit. Lobortis elementum aliquet nec vitae
						laoreet eget cubilia quam non etiam odio tincidunt montes. Elementum sem
						parturient nulla quam placerat viverra mauris non cum elit tempus ullamcorper
						dolor. Libero rutrum ut lacinia donec curae mus vel quisque sociis nec
						ornare iaculis.</p>
					</div>
				</section>

				<section id="contact" class="four">
					<div class="container">
						<header>
							<h2>Contact</h2>
						</header>

						<p>PinPark is continuously evolving. If you have found an issue, have feedback,
							or want to get in touch for any other reason, feel free to send a message. 
							we'd love to hear from you!
						</p>

						<form method="post" action="#">
							<div class="row">
								<div class="col-6 col-12-mobile"><input type="text" name="name" placeholder="Name" /></div>
								<div class="col-6 col-12-mobile"><input type="text" name="email" placeholder="Email" /></div>
								<div class="col-12">
									<textarea name="message" placeholder="Message"></textarea>
								</div>
								<div class="col-12">
									<input type="submit" value="Send Message" />
								</div>
							</div>
						</form>
					</div>
				</section>

				<section id="donations" class="four">
					<div class="container">
						<header>
							<h2>Donations</h2>
						</header>

						<p>PinPark is independently developed and will be continuously improved.
						   If you think you will find our app useful, you can choose to contribute
						   here. All donations will help us cover infrastructure costs, and allow
						   more time to be spent improving and refining current features and performance.
						   Thank you in advance for any donations.
						</p>

						<ul class="actions">
							<li><a href="https://donate.stripe.com/fZu00i4Oq7DR30m4kW3ks00" class="button" target="_blank" rel="noopener noreferrer">Support PinPark</a></li>
						</ul>
					</div>
				</section>
			</div>

		<!-- Footer -->
			<div id="footer">
				<ul class="copyright">
					<li>&copy; 2025 PinPark. All rights reserved</li>
					<li><a href="policies.html">Terms</a></li>
					<li><a href="policies.html#other">Privacy</a></li>
				</ul>
			</div>

		<!-- üîê Auth modal -->
		<div id="auth-modal-backdrop">
			<div id="auth-modal">
				<h3 id="auth-modal-title">Sign in</h3>
				<label for="auth-email">Email</label>
				<input id="auth-email" type="email" autocomplete="email" />

				<label for="auth-password">Password</label>
				<input id="auth-password" type="password" autocomplete="current-password" />

				<div class="auth-actions">
					<button id="auth-btn-login" type="button">Sign in</button>
					<button id="auth-btn-signup" type="button">Sign up</button>
				</div>

				<div class="auth-footer">
					<span id="auth-status"></span>
					<button id="auth-modal-close" type="button">Close</button>
				</div>
			</div>
		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

			<script>
				(function () {
					var nav = document.querySelector('#nav');
					if (!nav) return;

					function hrefToId(href) {
						try {
							var u = new URL(href, window.location.href);
							return u.searchParams.get('section');
						} catch (_) {
							return null;
						}
					}

					function clearSectionFromUrl() {
						try {
							var u = new URL(window.location.href);
							if (!u.searchParams.has('section')) return;
							u.searchParams.delete('section');
							history.replaceState(null, '', u.toString());
						} catch (_) {}
					}

					var links = Array.prototype.slice.call(nav.querySelectorAll('a[href*="section="]'));
					var sections = links
						.map(function (a) {
							var id = hrefToId(a.getAttribute('href') || '');
							return id ? document.getElementById(id) : null;
						})
						.filter(Boolean);

					if (!links.length || !sections.length) return;

					var lockedUntil = 0;
					function setActiveById(id) {
						links.forEach(function (a) {
							var linkId = hrefToId(a.getAttribute('href') || '');
							var on = linkId === id;
							a.classList.toggle('active', on);
							a.classList.toggle('active-locked', on && Date.now() < lockedUntil);
						});
					}

					// ‚úÖ Add "instant" option so initial load doesn't smooth-scroll
					function scrollToId(id, instant) {
						var el = document.getElementById(id);
						if (!el) return;
						el.scrollIntoView({ behavior: instant ? 'auto' : 'smooth', block: 'start' });
					}

					links.forEach(function (a) {
						a.addEventListener('click', function (e) {
							var id = hrefToId(a.getAttribute('href') || '');
							if (!id) return;

							e.preventDefault();

							lockedUntil = Date.now() + 600;
							setActiveById(id);

							scrollToId(id, false);
							clearSectionFromUrl();
						});
					});

					var initial = (new URL(window.location.href)).searchParams.get('section');
					if (initial && document.getElementById(initial)) {
						requestAnimationFrame(function () {
							// ‚úÖ Initial load jumps instantly (no scroll animation)
							scrollToId(initial, true);
							setActiveById(initial);
							clearSectionFromUrl();
						});
					}

					var ticking = false;
					function onScroll() {
						if (ticking) return;
						ticking = true;

						requestAnimationFrame(function () {
							ticking = false;

							var probeY = window.innerHeight * 0.35;
							var best = null;

							for (var i = 0; i < sections.length; i++) {
								var s = sections[i];
								var r = s.getBoundingClientRect();
								if (r.top <= probeY && r.bottom > probeY) {
									best = s;
									break;
								}
							}

							if (!best) {
								var bestDist = Infinity;
								for (var j = 0; j < sections.length; j++) {
									var rr = sections[j].getBoundingClientRect();
									var d = Math.abs(rr.top - probeY);
									if (d < bestDist) {
										bestDist = d;
										best = sections[j];
									}
								}
							}

							if (best && Date.now() >= lockedUntil) {
								setActiveById(best.id);
							}
						});
					}

					window.addEventListener('scroll', onScroll, { passive: true });
					window.addEventListener('resize', onScroll);
					window.addListener;
					window.addEventListener('popstate', function () {
						var id = (new URL(window.location.href)).searchParams.get('section');
						if (id && document.getElementById(id)) {
							// ‚úÖ Back/forward jumps instantly too
							scrollToId(id, true);
							setActiveById(id);
							clearSectionFromUrl();
						}
					});
					onScroll();
				})();
			</script>

		<!-- üîê Firebase Auth + admin gate -->
		<script type="module">
			import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
			import {
				getAuth,
				onAuthStateChanged,
				createUserWithEmailAndPassword,
				signInWithEmailAndPassword,
				signOut
			} from "https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js";
			import {
				getFirestore,
				doc,
				getDoc
			} from "https://www.gstatic.com/firebasejs/10.12.5/firebase-firestore.js";

			const firebaseConfig = {
				// üîë Paste your existing Firebase config here (same project as the app)
				// apiKey: "...",
				// authDomain: "...",
				// projectId: "...",
				// storageBucket: "...",
				// messagingSenderId: "...",
				// appId: "..."
			};

			const app = initializeApp(firebaseConfig);
			const auth = getAuth(app);
			const db   = getFirestore(app);

			const backdrop   = document.getElementById("auth-modal-backdrop");
			const modalTitle = document.getElementById("auth-modal-title");
			const emailInput = document.getElementById("auth-email");
			const passInput  = document.getElementById("auth-password");
			const btnLogin   = document.getElementById("auth-btn-login");
			const btnSignup  = document.getElementById("auth-btn-signup");
			const btnClose   = document.getElementById("auth-modal-close");
			const statusEl   = document.getElementById("auth-status");

			const linkLogin  = document.getElementById("link-login");
			const linkSignup = document.getElementById("link-signup");
			const adminItem  = document.getElementById("nav-admin-item");

			function showStatus(msg, isError = false) {
				if (!statusEl) return;
				statusEl.textContent = msg || "";
				statusEl.style.color = isError ? "#c00" : "#555";
			}

			function openModal(mode) {
				if (!backdrop) return;
				backdrop.style.display = "flex";
				showStatus("");
				if (mode === "signup") {
					modalTitle.textContent = "Sign up";
				} else {
					modalTitle.textContent = "Sign in";
				}
			}

			function closeModal() {
				if (!backdrop) return;
				backdrop.style.display = "none";
				showStatus("");
			}

			async function isAdminUser(user) {
				if (!user) return false;
				const snap = await getDoc(doc(db, "admins", user.uid));
				return snap.exists();
			}

			function applySignedOutUi() {
				if (adminItem) adminItem.style.display = "none";
				showStatus("Not signed in");
			}

			function applySignedInUi(isAdmin, user) {
				if (adminItem) adminItem.style.display = isAdmin ? "" : "none";
				const label = user?.email || "Signed in";
				showStatus(isAdmin ? label + " (admin)" : label);
			}

			// Open modal from sidebar links
			linkLogin?.addEventListener("click", (e) => {
				e.preventDefault();
				openModal("login");
			});
			linkSignup?.addEventListener("click", (e) => {
				e.preventDefault();
				openModal("signup");
			});
			btnClose?.addEventListener("click", () => {
				closeModal();
			});
			backdrop?.addEventListener("click", (e) => {
				if (e.target === backdrop) closeModal();
			});

			// Auth actions
			btnLogin?.addEventListener("click", async () => {
				const email = emailInput.value.trim();
				const pass  = passInput.value;
				if (!email || !pass) {
					showStatus("Please enter email and password", true);
					return;
				}
				try {
					showStatus("Signing in...");
					const cred = await signInWithEmailAndPassword(auth, email, pass);
					showStatus("Signed in.");
					console.log("User UID:", cred.user.uid);
					setTimeout(closeModal, 300);
				} catch (err) {
					console.error(err);
					showStatus(err.message || "Sign in failed", true);
				}
			});

			btnSignup?.addEventListener("click", async () => {
				const email = emailInput.value.trim();
				const pass  = passInput.value;
				if (!email || !pass) {
					showStatus("Please enter email and password", true);
					return;
				}
				try {
					showStatus("Creating account...");
					const cred = await createUserWithEmailAndPassword(auth, email, pass);
					showStatus("Account created.");
					console.log("New user UID:", cred.user.uid); // use once to add yourself to admins
					setTimeout(closeModal, 300);
				} catch (err) {
					console.error(err);
					showStatus(err.message || "Sign up failed", true);
				}
			});

			// Optional: sign out on some key combo or later via admin UI
			// (you could add a "Sign out" link somewhere else if you like)

			onAuthStateChanged(auth, async (user) => {
				if (!user) {
					applySignedOutUi();
					return;
				}
				try {
					const admin = await isAdminUser(user);
					applySignedInUi(admin, user);
				} catch (err) {
					console.error(err);
					applySignedInUi(false, user);
				}
			});
		</script>

	</body>
</html>
